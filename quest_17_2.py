inp = """41424581377724851378445711738521458664151245851877673525637618627451716584864533174687543576817352311
51554153836511884543358416476131863561163381823628184181237616641265838675268858324384348337544611334
51645663441765627735137436175875332734862882263861216457314114146785471225243152571654334743882821323
15676862884271427217171787487188768114455254414263577543253417545858674252147661264338562127667748136
55524251264125516768651256733422376131845867514127171435186828852843278123373115121753772463857677813
27526385616357214185638471388115566221326112175734521535813145423146478251851674444646555624828472564
14716262474677263634548486524856278387546884875135527776544121185766727814534244182282736815656718234
31845865863335668683146441564156173146271732857611518581113744388775288751454747831832458472573417846
77767177168214245342238872178127447727715225135451224166141686136462846645233176438327125157327382553
12188526372641321325676488355628277133466823451264641347233535527643261637487828162486363734741728125
37457673261823352622316653876463837688835851414815127363473887732738668463454118326355373521124757321
37432852578265544354245727837555742641117725765646987599958386117878661667718277483783547628337227815
52832383117416487677478234433774724127654874749467869556496797662777512186327372748135322737283155418
38587365842357876865616345715626471657454898459595865645747546679545553547734284564554353756248763782
24671833518368514276226287445878687684659979749764487644665897996647363274261512333887426882875185486
15222235151641564222346781413831549948855765879586986668846556689977996683718641114245461271558512522
75372575742514183267581478361274746488896847696475888558885977648867949857642517312733675682168472485
35552771276435522133783775744659759989676987694864798977479664498886775646158686666546873413436137162
87255282336672421386686631864446589459566585876846684949779757868495664748811641257185377236526558111
52882852183734752432814247968775448747556896574656567694795554598989784947698462552568458641832143215
58636727665446841221514187588855888874487995847748955544668776986679469495795576651572571358161815812
88543268585115432132744696588495976944475476475444864645444896545685479754997775385765287654541176577
21551761466868234578434588477648798449689477958789456845498756557878884489574459134341521674535445438
66825446427562635617284886749868576546867658946958746889894748766555679646898548422867671166663538511
52156588313686181824279466657545996854678475689848666967469777675569498987665897754627176153141411476
45724687371856611428595574875668547894656677774689885779547569547495474697676494473887278863583525565
55241883778713136679896757995446566866746555946549958577875545498688859889754568996727525142534577851
61411841814674422888889479878846765647976456976846847994889544599875459857489469646658144664864672683
47455336665284737696985675768696896655476557465854494556986548769448777659845859575852872233816325131
44832864773211356697584489989696498469485676548665994695679884665747554574788464776958486842576223236
34865263711451848976495798886445644554485765778775655478667846987684487654549978857489117223482581817
13336544652433219678666784986797557957647885869687978596445578789675846489698975585777253827531365457
84118455354873359574579499795899684457998557966589885988474585865868967458559484588948632353124424886
76865834818716797774786566686596968796458485467479965584946966749889746467446855448985443572213877438
44417671685755864474444848744957489695454959577746996668597948994865887946486987657745766344372184822
54472182344567556866644866674899456644774949767879469944667645868694766676448966445549543386177536513
83351231464625956896485669666986746557677867454689748444648579476769686678756949686995768448587667467
44882456438225465946589745696849597477799979459779957586847796955549858467856497778976454115738187881
74427827661554999655974754555985787445758775459597974954956696666696557664645486668558587453722368543
23158267484866978799845968489655769846496444565899494494767555568656449646668778558856498414665454531
18732747233549599596965967595579588484978889475455656857665444988944879859696574874849777975718635742
78845276817764679788479885584446458897694647878999886954557469797758469578879876644858879576145356233
13726572165596785796955487669488666448467657867788944955668655576559849754649598844846478617437345633
47377757488578767449865775454944647544649587698964946744494475697566857894594956745997844783473352641
44223864633689495985887549887468446464754954755769698448945799455674887648858857779586789482341873633
48526714184568854744659746746788584966566948974944686465944986895594496849664786599877698571611866148
25314762823959796587748948989655964569574649665666884856974994784988544487745879656678575754214578641
73328173883485444445556747568468794598956647878588669675878488856594548584779587668544985942765271135
52531168542559798585847956769664874749868746697996559575498478596588997748587574464575869746268887386
31882152147454556778997464766744786646479667848785587698768889586488969655484655456655674586456654164
21242423688877476784546545988844878979785457865584@97694588889465447458688769589948548654854636353221
74486235876476865598845594987689895446968784465645985475964494658884587585959588889564944475282157268
61673816582959748594845954456767566554645678947884466896954547659556494649766747549585567957741772886
41513881126474769898696985484984678549879878745466956675659966548754985975764478655478759566473546815
72831482627499484659898946455668488678885986896569698599679944887589656654955846577599645594661123316
56254711262864664797789775649745576658444758867885884556944947567849684695576586446465849941235385652
77647756446877458767696987878476689677448664545446679855788597689896849544644847777659988954865344433
83582573785696567799895886999855684975879776588796475964977667778845697649897477895664575642266527523
68122467453495479975479856758588779975995477797558699866997888995875768777578544989744875782767488735
53754714213468856747445577749548796977766956699968944585446885594689794755795666599977684721285856446
18224268154744656574688497959699747967544747767894478855589886946777964576785865864488845822381536363
37761713383588446488778676865946544788675999689698846998745968668458476949764684565484969818283681132
72466483155855798748847875748559987465685858967558885788869877666986974564799955477686685814163363144
47673248524726896776566868697899894548946644956599955886746567978658466986868475957888786242747543347
66736857444416967879466864595846597788749447599476847666668454597685956944477945649886747825234128767
65761231384666546878968869567885644575877487465589578666659648476995466776498778995577867512586431141
55321711573852675698745646986768775657865644476955746668588575778966465586856948786558648372715444318
78517148241784765898566956685446977669787477895976997666759689847489674869899576977767547225562858613
26137143462627644958957665486968665748956594858659885544998867696854458555668995547456444161176446284
38377286526358155445849449444794996888765545896468767788787857855969488849774775755455478288354155484
85424816328114165587496686858849888894578486566478488685687975857995675898849945857475175152475551132
78661876572217279994474694969486489669869879846647648496874986786798745577549586488956815322173735526
53427483864447666978798564684447674677699958979466587779557476447678646754846947549666828556587567774
71168861876825325545847696785765849847574946579997644787896988766457964878664485887797278713135722377
15584751111356778547446748646764989766668977855458759977655788857548968679476867465741235273741378472
58766721354126524858956567547944895884448968858959445765964865795458745979568569678238156835358353531
45143185266687146144889659749448964779667645568857649885586947786567587987899948591447124621424111737
31423632876527827126874888946599959549986769977878597464694748585574485968785859813166522145671475555
73237375678841673352576796595776646986766947477695455848699567985949648545785645555157284747524253376
64745868374132221637748657756467654844476787646866796446569857877455857545859664516185346151315288353
38447124852722182174414867956466885889746449858675898556658566885567689678654941734313486145387481824
85388232341327433438687124897594996797477887679457588487788966468694549557749828714888826731431842375
77473716532268458546575686468994748444479748689979466799757788465666698477974756817657877862486413153
84237184421833252562558646274447944468759977848749594794579544755876989444488183327673871838126257551
43456247812253644543618631327976848498987958674565884658874858689485664548756274463347545827276555657
55276388675335218782557872345386998745548587988754974967488598684445547765186145517417822528286867622
36271378128664264782454566624876766998747487878566457577558458865949843585527646847384267847835331338
51714727514387283111733385128857678585697444576875476598954644777454445867731873753342162466488828822
43435416346835876884238875337218664254894568765948448765687479966575516827452634314545652281621372744
76772723353348556511683343436713316421167554669477486549578686436153672538785437755757371613478323688
76885224636462326287865424862176131326467235655954884846666741711381155157375151128765382852535883367
34216777658527253113538326251562427353464281777176566452857378443384747564457663515187353188386254274
83431413621684326387736468161221517716164343417647822761247313318656711371716835213846437173113211268
61222536867115757435568111217134227168378711672336764142274225153287716376648513438627578236664775371
72745658716772238761744128172541317454234561711568874241646654662474167463345643143663121247264477234
83663568284413755348674246786782644751865766256254711441226247365231241224862454737565242448183658588
51835152242576481721148766418517351427237184525232316314311838571178727638156852612617112574281312753
34335432177813855375448538625124647165237867133812854317783816837315226722126356111712447841653762241
61446225683847237125764164622816861536267141314172632665464512277777334874658738653453556363758431124
31245268574242777438464282743821384278614351588661837544583356886144352657325472541363386481836354464
31315365274764747215457183141876425185243287673641168846312452616478246886766613825878227688361341345"""
test_inp = """4547488458944
9786999467759
6969499575989
7775645848998
6659696497857
5569777444746
968586@767979
6476956899989
5659745697598
6874989897744
6479994574886
6694118785585
9568991647449"""


def map_volcato(inp):
    volcano = None
    grid = dict()
    for yidx, line in enumerate(inp.splitlines()):
        for xidx, ch in enumerate(line):
            if ch == '@':
                volcano = (xidx, yidx)
            elif ch.isdigit():
                grid[(xidx, yidx)] = int(ch)
    return volcano, grid
    

def sum_of_cells(inp):
    volcano, grid = map_volcato(inp)
    max_radius = max(abs(x - volcano[0]) + abs(y - volcano[1]) for (x, y) in grid.keys())
    destruction = list()
    for r in range(max_radius):
        destruction.append(sum(value for (x, y), value in grid.items()
                           if abs(x - volcano[0])**2 + abs(y - volcano[1])**2 <= r**2))
    best_destruction = 0
    best_step = 0
    destruction_so_far = 0
    for step in range(1, len(destruction)):
        destruction_this_step = destruction[step] - destruction[step - 1]
        if destruction_this_step > best_destruction:
            best_destruction = destruction_this_step
            best_step = step
    return best_destruction * best_step
    
    
def main():
    print(f"Volcano danger zone (examples): {sum_of_cells(test_inp)}")
    print(f"Volcano danger zone (actual): {sum_of_cells(inp)}")
    
if __name__ == "__main__":
    main()